<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Liste d'anim√©</title>

    <!-- CSS -->
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/index.css" />
    <link rel="stylesheet" href="css/anime-box.css" />
  </head>
  <body>
    <header class="flex-box--x">
      <h1>ü•• Ma liste d'<span class="color-secondary">anim√©s</span></h1>
      <span id="animes-size"><%= animes.length %> anim√©s</span>
    </header>

    <main>
      <section>
        <% if(animes.length) { %>

        <ol id="animes-list">
          <% for(let i = 0, l = animes.length; i < l; i++) { %>
          <li>
            <!-- Vignette d'un anim√© -->
            <article class="anime-box flex-box--x">
              <% const anime = animes[i] %>

              <!-- Image de l'anim√© -->
              <img class="anime-box-img" src="images/<%= anime.image %>" alt="Une image" />

              <!-- Informations -->
              <div class="anime-box-infos flex-box--x">
                <!-- Titre, tags et situation  -->
                <div class="anime-box-info-primary flex-box--y">
                  <!-- Titre et situation -->
                  <div class="anime-box-ref flex-box--x">
                    <h3 class="anime-box-title"><%= anime.name %></h3>

                    <% if(anime.pending) { %>
                    <!-- En cours -->
                    <span class="anime-box-statut">en cours</span>
                    <% } else if(anime.episodes) { %>
                    <!-- √âpisodes et saisons -->
                    <span class="anime-box-statut flex-box--x">
                      <span><%= anime.episodes %> eps</span>
                      <% if(anime.seasons) { %><span class="anime-seasons">/ <%= anime.seasons %> saisons</span><% } %>
                    </span>
                    <% } %>
                  </div>

                  <% if(anime.tags && anime.tags.length) { %>
                  <!-- tags -->
                  <div class="anime-box-tags flex-box--x">
                    <% for(let i = 0, l = anime.tags.length; i < l; i++) { %>
                    <span class="anime-box-tag--<%= anime.tags[i].replace(/\s+/g, '-') %>"><%= anime.tags[i] %></span>
                    <% } %>
                  </div>
                  <% } %>
                </div>

                <% if(typeof anime.rating == 'number') { %>
                <!-- Note de l'anim√© (par moi) -->
                <div class="anime-box-note flex-box--x">
                  <span class="anime-box-note-rating flex-box--x"><%= anime.rating %> / 5</span>
                </div>
                <% } %>
              </div>
            </article>
          </li>
          <% } %>
        </ol>

        <% } else { %>
        <div></div>
        <% } %>
      </section>
    </main>

    <footer>
      <a target="_blank" href="https://discord.gg/cMgGaDpuay">Vers mon serveur Discord</a>
    </footer>
  </body>
</html>
